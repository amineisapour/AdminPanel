<ng-container *ngTemplateOutlet="recursiveListTmpl; context:{ list: menuItems }"></ng-container>

<ng-template #recursiveListTmpl let-list="list">
    <!-- <ng-template ngFor let-item [ngForOf]="list" let-i="index" [ngForTrackBy]="trackByFn"> -->
    <ng-template ngFor let-item [ngForOf]="list" let-i="index">

        <ng-template [ngIf]="item.children" [ngIfElse]="divAlone">
            <details class="tree-nav__item is-expandable">
                <summary class="tree-nav__item-title"> {{ item.title }}</summary>

                <ng-container *ngTemplateOutlet="recursiveListTmpl; context:{ list: item.children }"></ng-container>
            </details>
        </ng-template>


        <ng-template #divAlone>
            <div class="tree-nav__item">
                <a class="tree-nav__item-title"><i class="ion ion-cube"></i> {{ item.title }}</a>
            </div>
        </ng-template>

    </ng-template>
</ng-template>